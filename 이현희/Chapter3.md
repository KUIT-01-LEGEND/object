# 객체지향의 본질
2장 내용은 구현에 치우친 설명이었음

객체지향의 본질은 책임, 협력, 역할임.

객체지향 애플리케이션의 제어 흐름은 어느 한 객체에 의해 통제되는 것이 아니고<br>
여러 객체에 균형있게 나눠져 있음.<br>
객체들은 자신에게 배정된 로직을 실행함.

책임 : 객체가 협력에 참여하기 위해 실행하는 로직
협력 : 객체들이 기능 구현을 위해 상호작용 하는 것
역할 : 객체가 수행하는 책임이 모인 것

# 협력
협력(=객체 간의 상호작용)은 메시지를 통해서만 일어남<br>
수신 받은 메시지에 대한 처리 방법(=메서드)는 수신받은 객체가 자율적으로 결정함.

내부 구현을 캡슐화(=자율적인 객체) 해 놓아야 일부 책임(=로직)을 위임할 수 있음.

객체의 존재 이유 = 협력에 참여하기 때문<br>
객체가 협력에 참여 가능한 이유 = 협력에 적절한 행동을 보유하고 있기 때문

협력이 객체의 행동을 결정한다<br>
협력이 바뀌면 객체의 행동도 변해야 한다.

eg. Movie라는 객체는 어떤 행동을 해야할까?<br>
일반적인 생각으로는 play 같은 행동이 있겠지만, 티켓 예매라는 협력 속에서는, 가격 계산이라는 행동이 있음.

협력은 행동을 정하고, 행동과 상태는 서로를 정한다(협력이 상태를 바꾸고 상태에 기반해 행동하고 반복)

# 책임
객체가 협력을 위해 수행하는 행동임

책임은 하는 것과 아는 것으로 구분됨.

책임이 메시지와 내부 속성(=상태)을 정함.

책임이 메시지보다 크므로, 여러 개의 메시지로 쪼개지게 됨.

아는 것과 하는 것은 밀접하게 관련되어 있음<br>
이것은 객체에게 책임을 할당하는 가장 기본적인 힌트를 제공함<br>
뒤에 나오지만, 이 장에서 간략하게 언급하는 건 Information Expert 패턴

시스템의 기능을 시스템의 책임으로 보고,<br>
이 책임을 수행하기 위해 작은 책임들로 쪼개고, 객체들에게 할당.<br>
다시 또 그 책임을 쪼갠 뒤 객체들에게 할당하는 것을 반복

메시지가 객체를 선택하는 것.<br>
물론 객체도 이미 어느정도 개념은 있음(도메인 모델에서 가져온다던가)<br>
여기서 말하는 건 객체를 보고 어떤 메시지가 어울릴까 고민하는 게 아니고,<br>
협력을 위한 책임을 통해 메시지를 만들고, 이 메시지를 어느 객체에 할당할 지 선택하는 게 좋다는 것.<br>
=> 이러면 메시지부터 떠올리기 때문에 "무엇을"에 집중할 수 있고, 협력에 필요한 메시지만 생각하기 떄문 "최소개수"도 만족 가능

객체는 자신이 수행할 수 있는 행동을 통해 자신의 존재 의미를 가짐<br>
객체의 쓸모, 존재 이유, 품질 모두 그 행동(=책임)을 얼마나 잘 정의헀냐로 결정됨

# 역할
간단하게 말하자면 책임의 집함.

협력을 모델링하는 책임주도설계 과정에서 특정 책임을 어떤 객체에게 맡긴다고 생각하는 게 아니라<br>
어떤 역할에 맡긴다고 생각하는 것이 더 좋다.<br>
나중에 그 역할에 해당하는 객체가 하나인 걸로 결정되면, 그때 객체라고 해도 됨.

역할은 "재사용 가능한" 협력을 만들 수 있게 해준다.<br>
역할은 책임의 집합이고, 어떠한 객체든지 그 책임의 집합을 감당할 수 있다면 그 역할을 수행할 수 있다.<br>
역할을 구현하는 방법 = 상속, 인터페이스

협력은 역할의 상호작용이라고도 볼 수 있음<br>
협력 -> 역할 -> 객체 -> 클래스

도메인 모델은 사람이 세상을 바라보는 모델임<br>
그래서 근본적으로 불안함.<br>
그래서 협력 속에서 상호작용하는 그 대상들이 객체인지, 클래스인지, 역할인지 초기엔 분간하기 어렵고 나중에 바뀔 수도 있음<br>
따라서 그냥 그 대상을 "후보(Candidate)"라는 개념으로 바라보는 것이 좋음.

특정 시나리오에 대한 협력을 구성할 때<br>
보통 도메인 모델의 개념들을 "후보"로 선택해 책임을 할당하게 되는데<br>
이때 비슷한 구조의 협력이 보일 수 있음.<br>
그럼 이제 역할을 통한 협력의 추상화 삽가능

다양한 객체가 협력할 게 확실하다면 역할로 딱 정하고 시작해도 되고<br>
그게 어려우면 후보라고 뭉뚱그려 표현해도 되고<br>
협력 자체가 어떤 상호작용인지 판단하기 어렵다면 구체적인 객체(일종의 예시로서)를 통해서 생각해도 됨

역할은 객체의 추상화라고 볼 수 있고,<br>
그래서 2장에 나온 추상화의 장점 2가지가 적용됨<br>
1. 추상적인 수준에서의 기술 가능(협력을)
2. 유연함(다양한 객체가 참여할 수 있으므로, 협력이 유연해짐)
역할은 협력 내에서만 임시적으로 존재하며, 배우와 배역의 예제를 봤을 때 페르소나라고도 볼 수 있다.